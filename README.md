# 3 курс
# Панарин Илья Денисович
# Проектная работа "Веб-ларек"
WEB-ларек - интернет-магазин с товарами для веб-разработчиков. В нём можно посмотреть каталог товаров, добавить товары в корзину и сделать заказ. 

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом
- src/components/models — папка с моделями
- src/components/views — папка с отображениями

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/types.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Архитектура приложения

В приложении используется архитектурный паттерн MVC (Model-View-Controller), который делит код на три слоя:
1. Model — данные, в которых отражена вся ценность приложения. Этот слой содержит значительную часть бизнес-логики. При изменении данные должны попадать в отображение.
2. Слой отображения (View) — интерфейс для взаимодействия с пользователем. Его задача — выводить что-то на экран и генерировать события с действиями пользователя. 
3. Слой управления (Controller) — обрабатывает действия пользователя, проверяет полученные данные и передаёт их модели. (index.ts)

## Базовые классы

- Класс API:

Предоставляет функционал для реализации HTTP-запросов

   Имеет методы:
      get - реализация GET-запроса, получение данных
      post - реализация POST-запроса, отправка данных


- Класс EventEmitter

Брокер событий, обеспечивает работу событий: возможность установить и снять слушателей событий, вызвать слушателей при возникновении события

   Имеет методы:
      on - установка обработчика на событие
      off - снятие обработчика с события
      emit - инициирование событие с данными
      onAll - слушание всех событий
      offAll - сброс всех обработчиков
      trigger - сделать коллбек триггер, генерирующий событие при вызове


## Model

- BasketModel: управляет состоянием корзины.
   IBasketModel:
      add(id: string): void - метод добавления товара по его идентификатору
      remove(id: string): void - метод удаления товара по его идентификатору
      getItemsCount(): number; - количество товаров в корзине
      getItems(): IProduct[]; - получение всех товаров
      clear(): void; - очистка всей корзины

- CatalogModel - управляет состоянием списка товаров.
   ICatalogModel:
      setProducts(items: IProduct[]): void - обновление списка товаров
      getProducts(): IProduct[]; - получение товаров из каталога

- OrderModel - управляет данными заказа
   IOrderModel:
      setPaymentMethod(method: PaymentMethod): void; - обновление способа оплаты
      setAdrress(address: string): void; - обновление поля адреса
      setEmail(email: string): void; - обновление поля почты
      setPhone(phone: string): void; - обновлени поля телефона
      reset(): void; - очистка всех полей после оформаления покупки
      getPaymentMethod(): PaymentMethod; - получение способа оплаты
      getAddress(): string; - получение адреса
      getEmail(): string; - получение почты
      getPhone(): string; - получениие телефона

## View

 - ProductView - модальное окно с полной информацией о товаре
 - CatalogView - отображение каталога товаров
 - CatalogItemView - отображение отдельного товара в каталоге
 - BasketView - отображение корзины с товарами
 - BasketItemView - отображение отдельного товара в корзине
 - OrderSuccessView - отображение окна успешного оформления заказа
 - ModalView - отображение модального окна (обертка)
 - View - общая структура для всех отображений
 - OrderPaymentView - отображение окна способа оплаты
 - OrderContactsView - отображение окна с данными пользователя

 ## Типы и интерфейсы данных

 -IProduct (товар):
    id: string;                  // идентификатор товара
    name: string;                // название 
    description?: string;        // описание 
    price: number | null;        // стоимость
    category: ProductCategory    // категория
    image: string;               // изображение
    isInBasket: boolean;         // товар в корзине (да - нет)

 -IBasketItem (товар в корзине):
    id: string;                  // идентификатор 
    name: string;                // название 
    price: number | null;        // стоимость

 -IOrderForm (форма заказа):
    payment: string;            // способ оплаты
    address: string;            // адрес доставки
    phone: string;              // номер телефона пользователя
    email: string;              // email пользователя
    total: string | number;     // общая сумма
    items: string[];            // массив идентификаторов приобретаемых товаров

 // категория товара
 -type ProductCategory = 'софт-скил' | 'другое' | 'дполнительное' | 'хард-скил' | 'кнопка';

 // Способ оплаты
 -type PaymentMethod = 'олнайн' | 'при получении';
